package {	import flash.display.*;	import flash.events.*;	import flash.utils.*;	import flash.geom.*;	import asset.Sinbol;	public class Wrapper extends Sprite {				private const STAGE_WIDHT:uint = 700;		private const STAGE_HEIGHT:uint = 700;		private var sinbols:Array = new Array();		private var speed:Number = 0;		private var ofset:Number = 0.5;		public var rectNum:uint = 5;		private var rCrs:Number = STAGE_WIDHT / rectNum;		private var rXY:Number = rCrs / Math.sqrt(2);		private var max:Number;		private var lineMax:Number;		public var rnd:Array = new Array();		public var timer:Timer;				public var redM:Number = 1.0;		public var greenM:Number = 1.0;		public var blueM:Number = 1.0;		public var alphaM:Number = 1.0;		public var redO:Number = 0;		public var greenO:Number = 0;		public var blueO:Number = 0;		public var alphaO:Number = 0;						public function Wrapper() {			max = STAGE_WIDHT/(rCrs*ofset)+1;			lineMax = STAGE_HEIGHT/(rCrs*ofset)+1;			var line:uint = 0;			for (var i:uint = 0; i<lineMax; i++) {				for (var j:uint = 0; j<max; j++) {					var sinbol:Sinbol = new Sinbol(j,i,rXY,rXY,ofset,speed);					this.addChild(sinbol);					sinbols.push(sinbol);				}			}		}		public function resetTimer(delay:Number):void {			if (timer != null) {				timer.stop();			}			if (delay == 0) {				for (var i:uint = 0; i<lineMax*max; i++) {					sinbols[i].tweenStop();				}			}			if (delay > 0) {				timer = null;				timer = new Timer(int(delay));				timer.addEventListener(TimerEvent.TIMER, timerHand);				timer.start();			}		}		public function resetSpeed(sp:Number):void {			speed = int(sp);			for (var i:uint = 0; i<lineMax*max; i++) {				sinbols[i].resetSpeed(int(sp));			}		}				public function resetAlpha(num:Number):void{			for (var i:uint = 0; i<lineMax*max; i++) {				sinbols[i].resetAlpha(num);			}		}				public function resetColor():void{			this.transform.colorTransform = new ColorTransform(redM, greenM, blueM, alphaM, redO, greenO, blueO, alphaO);		}		private function timerHand(evt:TimerEvent):void {			setRnd();			for (var i:uint = 0; i<lineMax*max; i++) {				sinbols[i].setTween();			}		}		private function setRnd():void {			rnd = null;			rnd = new Array();			for (var k:uint=0; k<2; k++) {				var r:Number = Math.random() * 1.3 + 0.7;				rnd.push(r);			}		}					}}